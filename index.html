<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>日历组件</title>
</head>
<body>
  <script>
  const METHODS = {
    m: 'Month',
    d: 'Date'
  }

  let date = new Date();
  function resetDate(date, offset) {
    console.log(`${date.getFullYear()}-${date.getMonth()}-${date.getDate()}`);
    offset = offset.toLowerCase();
    let result = {};
    offset.replace(/([+-]?\d+)([ymd])/, (match, number, unit) => {
      console.log(match, number, unit);
      result[unit] = Number(number)
      date[`set${METHODS[unit]}`](date[`get${METHODS[unit]}`]() + result[unit]);
    });
    console.log(`${date.getFullYear()}-${date.getMonth()}-${date.getDate()}`);
  }
  resetDate(date, '+3d');
  </script>
</body>
</html>